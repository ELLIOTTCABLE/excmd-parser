<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Incremental (excmd.Excmd.Incremental)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">excmd</a> &#x00BB; <a href="../index.html">Excmd</a> &#x00BB; Incremental</nav><h1>Module <code>Excmd.Incremental</code></h1></header><dl><dt class="spec type" id="type-checkpoint"><a href="#type-checkpoint" class="anchor"></a><code><span class="keyword">type </span>'a checkpoint</code><code><span class="keyword"> = </span><span class="keyword">private </span></code><code>{</code><table class="record"><tr id="type-checkpoint.status" class="anchored"><td class="def field"><a href="#type-checkpoint.status" class="anchor"></a><code>status : <span class="type-var">'a</span> <a href="../../Excmd__ParserAutomaton/index.html#module-MenhirInterpreter">Excmd.ParserAutomaton.MenhirInterpreter</a>.checkpoint;</code></td></tr><tr id="type-checkpoint.buf" class="anchored"><td class="def field"><a href="#type-checkpoint.buf" class="anchor"></a><code>buf : <a href="../Lexer/index.html#type-buffer">Lexer.buffer</a>;</code></td></tr></table><code>}</code></dt></dl><section><header><h2 id="incremental-entry-checkpoints"><a href="#incremental-entry-checkpoints" class="anchor"></a>Incremental entry-checkpoints</h2></header><dl><dt class="spec value" id="val-script"><a href="#val-script" class="anchor"></a><code><span class="keyword">val </span>script : <a href="../Lexer/index.html#type-buffer">Lexer.buffer</a> <span>&#45;&gt;</span> <a href="../AST/index.html#type-t">AST.t</a> <a href="index.html#type-checkpoint">checkpoint</a></code></dt><dd><p>Start the incremental Excmd parser with intent to consume, and produce, a single Excmd <a href="../Statement/index.html#type-t"><code>Statement.t</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-script_of_string"><a href="#val-script_of_string" class="anchor"></a><code><span class="keyword">val </span>script_of_string : string <span>&#45;&gt;</span> <a href="../AST/index.html#type-t">AST.t</a> <a href="index.html#type-checkpoint">checkpoint</a></code></dt><dd><p>Helper to invoke <a href="index.html#val-statement"><code>statement</code></a> with a <code>string</code>.</p></dd></dl><dl><dt class="spec value" id="val-statement"><a href="#val-statement" class="anchor"></a><code><span class="keyword">val </span>statement : <a href="../Lexer/index.html#type-buffer">Lexer.buffer</a> <span>&#45;&gt;</span> <a href="../AST/index.html#type-statement">AST.statement</a> <a href="index.html#type-checkpoint">checkpoint</a></code></dt><dd><p>Start the incremental Excmd parser with intent to consume, and produce, a single Excmd <a href="../Statement/index.html#type-t"><code>Statement.t</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-statement_of_string"><a href="#val-statement_of_string" class="anchor"></a><code><span class="keyword">val </span>statement_of_string : string <span>&#45;&gt;</span> <a href="../AST/index.html#type-statement">AST.statement</a> <a href="index.html#type-checkpoint">checkpoint</a></code></dt><dd><p>Helper to invoke <a href="index.html#val-statement"><code>statement</code></a> with a <code>string</code>.</p></dd></dl></section><section><header><h2 id="menhir-incremental-parsing-helpers"><a href="#menhir-incremental-parsing-helpers" class="anchor"></a>Menhir incremental-parsing helpers</h2></header><dl><dt class="spec value" id="val-continue"><a href="#val-continue" class="anchor"></a><code><span class="keyword">val </span>continue : accept:(<span class="type-var">'semantic</span> <span>&#45;&gt;</span> <span class="type-var">'result</span>) <span>&#45;&gt;</span> fail:(<span class="type-var">'semantic</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> <span class="type-var">'semantic</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> <span class="type-var">'result</span>) <span>&#45;&gt;</span> <span class="type-var">'semantic</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> <span class="type-var">'result</span></code></dt><dd><p>A helper for Menhir's incremental parsers. Feeds the given ... NYD</p></dd></dl></section><section><header><h2 id="introspection"><a href="#introspection" class="anchor"></a>Introspection</h2></header><dl><dt class="spec value" id="val-acceptable_token"><a href="#val-acceptable_token" class="anchor"></a><code><span class="keyword">val </span>acceptable_token : <span class="type-var">'a</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> <a href="../Tokens/index.html#type-token">Tokens.token</a></code></dt><dd><p><code>acceptable_token cp</code>, given a <code>cp</code> that is in an <code>InputNeeded</code> state, will return a single, arbitrarily chosen token that could be accepted by the parsing automaton.</p><p>JavaScript interface: <code>Checkpoint::acceptable_token()</code>.</p></dd></dl><dl><dt class="spec value" id="val-acceptable_tokens"><a href="#val-acceptable_tokens" class="anchor"></a><code><span class="keyword">val </span>acceptable_tokens : <span class="type-var">'a</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> <a href="../Tokens/index.html#type-token">Tokens.token</a> array</code></dt><dd><p><code>acceptable_tokens cp</code>, given a <code>cp</code> that is in an <code>InputNeeded</code> state, will return an array of example-tokens that <em>could</em> be accepted next by the parsing automaton.</p><p>JavaScript interface: <code>Checkpoint::acceptable_tokens()</code>.</p></dd></dl><dl><dt class="spec value" id="val-current_command"><a href="#val-current_command" class="anchor"></a><code><span class="keyword">val </span>current_command : <span class="type-var">'a</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> string option</code></dt><dd><p><code>current_command cp</code> will, if the automaton has already accepted a IDENTIFIER token that will eventually become the <code>Statement.command</code> of the current statement, produce the name of that accepted command. If the parser is not in a state where a command-name has been accepted, then this will produce <code>None</code>.</p><p>JavaScript interface: <code>Checkpoint::command()</code>.</p></dd></dl><dl><dt class="spec value" id="val-automaton_status"><a href="#val-automaton_status" class="anchor"></a><code><span class="keyword">val </span>automaton_status : <span class="type-var">'a</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>automaton_status cp</code> will return the current <a href="http://gallium.inria.fr/~fpottier/menhir/manual.html#sec59">Menhir checkpoint-status</a> for the provided <code>cp</code>; this will be a string like <code>&quot;InputNeeded&quot;</code>, <code>&quot;Accepted&quot;</code>, and so on.</p><p>This is primarily for debugging, and generation of the appropriate JavaScript symbols for interop. You should, of course, do actual pattern-matching on the actual variant-type, if working from within OCaml.</p><p>JavaScript interface: <code>Checkpoint::automaton_status()</code>.</p></dd></dl><dl><dt class="spec value" id="val-symbol_type"><a href="#val-symbol_type" class="anchor"></a><code><span class="keyword">val </span>symbol_type : <span class="type-var">'a</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>symbol_type cp</code> returns a string indicating whether the current symbol (the top of the automaton's stack) is a <code>&quot;terminal&quot;</code> or <code>&quot;nonterminal&quot;</code> symbol.</p><p>JavaScript interface: <code>Checkpoint::symbol_type()</code>.</p></dd></dl><dl><dt class="spec value" id="val-debug_checkpoint"><a href="#val-debug_checkpoint" class="anchor"></a><code><span class="keyword">val </span>debug_checkpoint : <span class="type-var">'a</span> <a href="index.html#type-checkpoint">checkpoint</a> <span>&#45;&gt;</span> unit</code></dt></dl></section></div></body></html>